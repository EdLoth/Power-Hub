generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Administrator {
  id          String    @id @default(uuid())
  api_token   String?
  name        String
  email       String    @unique
  password    String
  role        String
  phone       String
  cpf         String?   @unique
  cnpj        String?   @unique
  dateOfBirth DateTime?
  situacao    Boolean
  created_at  DateTime  @default(now())
  deleted_at  DateTime?
  updated_at  DateTime  @updatedAt
}

model User {
  id         String    @id @default(uuid())
  api_token  String?
  password   String
  fullName   String
  email      String    @unique
  phone      String
  isWhatsapp Boolean
  cep        String?
  address    String?
  number     String?
  complement String?
  theme      String?
  cpf        String?   @unique
  cnpj       String?   @unique
  situacao   Boolean
  created_at DateTime  @default(now())
  deleted_at DateTime?
  updated_at DateTime  @updatedAt
}

model Produto {
  id                String      @id @default(uuid())
  code              String      @unique
  name              String
  description       String
  stock             Int
  supplier_id       String?
  brandId           String?
  price             Float
  format            String?
  expirationDate    DateTime?
  freeShipping      Boolean
  netWeight         Float?
  grossWeight       Float?
  width             Float?
  height            Float?
  depth             Float?
  volumes           Int?
  itemsPerBox       Int?
  unitOfMeasurement String?
  situation         Boolean
  image             String?
  brand             Marca?      @relation(fields: [brandId], references: [id])
  categories        Categoria[] @relation("CategoriaToProduto")
}

model Categoria {
  id       String    @id @default(uuid())
  name     String    @unique
  produtos Produto[] @relation("CategoriaToProduto")
}

model Marca {
  id       String    @id @default(uuid())
  name     String    @unique
  produtos Produto[]
}

model Pedido {
  id                  Int      @id @default(autoincrement())
  numero              Int
  data                DateTime
  dataPrevista        DateTime
  totalProdutos       Float
  total               Float
  ordemCompra         String
  observacoes         String
  observacoesInternas String
}

model Mail {
  id             Int       @id @default(autoincrement())
  assunto        String?   @db.VarChar(445)
  corpo          String?   @db.Text
  email          String?   @db.VarChar(245)
  data_cadastro  DateTime?
  data_envio     DateTime?
  situacao_envio Int?
  origem         String?   @db.VarChar(100)
}
